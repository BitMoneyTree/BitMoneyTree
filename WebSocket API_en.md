<html lang="zh"> <head> <meta charset="utf-8"/> <link rel="shortcut icon" href="https://www.mdeditor.com/images/logos/favicon.ico" type="image/x-icon"/> </head> <body><h2 id="h2-bitmoneytree-websocket-api"><a name="BitMoneyTree——WebSocket API" class="reference-link"></a><span class="header-link octicon octicon-link"></span>BitMoneyTree——WebSocket API</h2><p><em>Read in other languages：<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_en.md" title="English">English</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_hk.md" title="繁體中文">繁體中文</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_cn.md" title="简体中文">简体中文</a></em></p> <h3 id="h3-subscribe-to-websocket-depth"><a name="Subscribe to WebSocket depth" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Subscribe to WebSocket depth</h3><h4 id="h4-wswatchdept-symbol-"><a name="wsWatchDept(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDept(symbol)</h4><p>Subscribe to WebSocket depth data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>No Unresponsive data</p> <h3 id="h3-get-the-websocket-depth-data"><a name="Get the WebSocket depth data" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Get the WebSocket depth data</h3><h4 id="h4-wsgetdept-symbol-side-"><a name="wsGetDept(symbol,side)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDept(symbol,side)</h4><p>Gets the depth data for the WebSocket subscription and returns<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> <tr> <td>side</td> <td>eg（buy、sell）</td> <td>string</td> </tr> </tbody> </table> <p>Response table data：<br><code>{ [1]={ price=11300.54, ts=1597213360, amount=7.1161537565302}, [2]={ price=11300.86, ts=1597213358, amount=0.199715}, [3]={ price=11301.2, ts=1597213360, amount=0.043959}, [4]={ price=11301.54, ts=1597213358, amount=0.00319}, [5]={ price=11302.33, ts=1597213360, amount=0.0025}}</code></p> <table> <thead> <tr> <th>The field names</th> <th>describe</th> </tr> </thead> <tbody> <tr> <td>price</td> <td>price</td> </tr> <tr> <td>amount</td> <td>amount</td> </tr> <tr> <td>ts</td> <td>timestamp</td> </tr> </tbody> </table> <h3 id="h3-subscription-transaction-details"><a name="Subscription Transaction Details" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Subscription Transaction Details</h3><h4 id="h4-wswatchdealdetail-symbol-"><a name="wsWatchDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDealDetail(symbol)</h4><p>Subscription transaction details data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>No Unresponsive data</p> <h3 id="h3-get-the-websocket-transaction-details"><a name="Get the WebSocket transaction details" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Get the WebSocket transaction details</h3><h4 id="h4-wsgetdealdetail-symbol-"><a name="wsGetDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDealDetail(symbol)</h4><p>After subscribing to WebSocket transaction details, call this interface to get WebSocket transaction details<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>Response table data：<br><code>{ [1]={ direction="sell", tradeId="102174098326", amount="0.000888", price="11523.04", ts="1597296214", id=482}, [2]={ direction="buy", tradeId="102174098327", amount="0.002841", price="11523.05", ts="1597296214", id=483}, [3]={ direction="buy", tradeId="102174098328", amount="0.002736", price="11523.05", ts="1597296214", id=484}, [4]={ direction="sell", tradeId="102174098329", amount="0.043282", price="11523.04", ts="1597296214", id=485}, [5]={ direction="sell", tradeId="102174098323", amount="0.0008", price="11523.04", ts="1597296213", id=479}}</code></p> <table> <thead> <tr> <th>The field names</th> <th>describe</th> </tr> </thead> <tbody> <tr> <td>direction</td> <td>Business direction</td> </tr> <tr> <td>tradeId</td> <td>tradeId</td> </tr> <tr> <td>amount</td> <td>amount</td> </tr> <tr> <td>price</td> <td>price</td> </tr> <tr> <td>ts</td> <td>timestamp</td> </tr> <tr> <td>id</td> <td>serial number</td> </tr> </tbody> </table> <h3 id="h3-subscribe-to-websocket-buy-and-sell-one-by-one"><a name="Subscribe to WebSocket, buy and sell one by one" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Subscribe to WebSocket, buy and sell one by one</h3><h4 id="h4-wswatcheverymarket-symbol-"><a name="wsWatchEveryMarket(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchEveryMarket(symbol)</h4><p>Subscribe to WebSokcet buy sell one by one market data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>No Unresponsive data</p> <h3 id="h3-obtain-the-buy-sell-market-of-websocket"><a name="Obtain the “buy sell” market of WebSocket" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Obtain the “buy sell” market of WebSocket</h3><h4 id="h4-wsgeteverymarket-symbol-"><a name="wsGetEveryMarket（symbol）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetEveryMarket（symbol）</h4><p>After subscribing to the “buy sell one deal” market of WebSocket, call this interface to obtain the “buy sell one deal” market of WebSocket<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>Response table data：<br><code>{ [1]={ sellsize=24.630719126109, buysize=0.015517, sell=11517.45, ts=1597299810, buy=11517.44}}</code></p> <table> <thead> <tr> <th>The field names</th> <th>describe</th> </tr> </thead> <tbody> <tr> <td>sellsize</td> <td>Sales volume</td> </tr> <tr> <td>buysize</td> <td>Purchase volume</td> </tr> <tr> <td>sell</td> <td>Selling price</td> </tr> <tr> <td>buy</td> <td>Purchase price</td> </tr> <tr> <td>ts</td> <td>timestamp</td> </tr> </tbody> </table> <h3 id="h3-balance-of-subscription-to-websocket"><a name="Balance of subscription to WebSocket" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Balance of subscription to WebSocket</h3><h4 id="h4-wswatchbalance-"><a name="wsWatchBalance（）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchBalance（）</h4><p>Balance of subscription to WebSocket<br>parameters：nothing<br>No Unresponsive data </p><h3 id="h3-get-websocket-balance"><a name="Get WebSocket balance" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Get WebSocket balance</h3><h4 id="h4-wsgetbalance-currency-"><a name="wsGetBalance（currency）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetBalance（currency）</h4><p>After subscribing to the WebSocket balance, this interface is called to obtain the latest balance data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>currency</td> <td>Currency examples(btc)</td> <td>string</td> </tr> </tbody> </table> <p>Response table data：<br><code>{ [1]={ currency="btc", available="6666666", id=15, exchange="Huobi", blocked="0"}}</code></p> <table> <thead> <tr> <th>The field names</th> <th>describe</th> </tr> </thead> <tbody> <tr> <td>currency</td> <td>currency</td> </tr> <tr> <td>available</td> <td>Available balance</td> </tr> <tr> <td>blocked</td> <td>Frozen balance</td> </tr> <tr> <td>exchange</td> <td>Name of the exchange</td> </tr> <tr> <td>id</td> <td>number</td> </tr> </tbody> </table> <h3 id="h3-subscribe-to-websocket-k-line"><a name="Subscribe to WebSocket K line" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Subscribe to WebSocket K line</h3><h4 id="h4-wswatchkline-symbol-period-"><a name="wsWatchKLine(symbol,period)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchKLine(symbol,period)</h4><p>Subscribe to WebSocket K line data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> <tr> <td>period</td> <td>eg（1 (1 minute), 5 (5 minutes), 15 (15 minutes), 30 (30 minutes), 1h (1 hour), 2h(2hours),1d(1day)）</td> <td>string</td> </tr> </tbody> </table> <p>No Unresponsive data</p> <h3 id="h3-obtain-websocket-k-line"><a name="Obtain WebSocket K line" class="reference-link"></a><span class="header-link octicon octicon-link"></span>Obtain WebSocket K line</h3><h4 id="h4-wsgetkline-symbol-period-"><a name="wsGetKLine（symbol,period）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetKLine（symbol,period）</h4><p>After subscribing to the WebSocket K line, access the interface to obtain the WebSocket K line data<br>parameters： </p><table> <thead> <tr> <th>The field names</th> <th>describe</th> <th>data type</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>eg(btcusdt)</td> <td>string</td> </tr> <tr> <td>period</td> <td>eg（1 (1 minute), 5 (5 minutes), 15 (15 minutes), 30 (30 minutes), 1h (1 hour), 2h(2hours),1d(1day)）</td> <td>string</td> </tr> </tbody> </table> <p>Response table data：<br><code>{ [1]={ low=11471.65, last=11544.07, vol=154326832.68381, high=11655.41, open=11579.99, ts=1597248000}, [2]={ low=11130, last=11580, vol=526157022.68902, high=11617.8, open=11484.55, ts=1597161600}, [3]={ low=11374.11, last=11484.56, vol=501030973.92665, high=11948.29, open=11919.16, ts=1597075200}, [4]={ low=11489.8, last=11919.16, vol=489598559.69933, high=12052.03, open=11566.98, ts=1596988800}, [5]={ low=11538.57, last=11566.98, vol=228727380.99556, high=11795.01, open=11735.43, ts=1596902400}}</code></p> <table> <thead> <tr> <th>The field names</th> <th>describe</th> </tr> </thead> <tbody> <tr> <td>low</td> <td>Lowest price</td> </tr> <tr> <td>last</td> <td>Closing price</td> </tr> <tr> <td>vol</td> <td>Trading volume</td> </tr> <tr> <td>high</td> <td>Highest price</td> </tr> <tr> <td>open</td> <td>Opening price</td> </tr> <tr> <td>ts</td> <td>timestamp</td> </tr> </tbody> </table> </body> </html>
