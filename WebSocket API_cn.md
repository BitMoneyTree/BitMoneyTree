<html lang="zh"> <head> <meta charset="utf-8"/> <link rel="shortcut icon" href="https://www.mdeditor.com/images/logos/favicon.ico" type="image/x-icon"/> </head> <body><h2 id="h2-bitmoneytree-websocket-api"><a name="BitMoneyTree——WebSocket API" class="reference-link"></a><span class="header-link octicon octicon-link"></span>BitMoneyTree——WebSocket API</h2><p><em>用其他语言阅读：<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_en.md" title="English">English</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_hk.md" title="繁體中文">繁體中文</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_cn.md" title="简体中文">简体中文</a></em></p> <h3 id="h3--websocket-"><a name="订阅WebSocket深度" class="reference-link"></a><span class="header-link octicon octicon-link"></span>订阅WebSocket深度</h3><h4 id="h4-wswatchdept-symbol-"><a name="wsWatchDept(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDept(symbol)</h4><p>订阅WebSocket深度数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>无响应数据</p> <h3 id="h3--websocket-"><a name="获取WebSocket深度数据" class="reference-link"></a><span class="header-link octicon octicon-link"></span>获取WebSocket深度数据</h3><h4 id="h4-wsgetdept-symbol-side-"><a name="wsGetDept(symbol,side)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDept(symbol,side)</h4><p>订阅WebSocket深度之后，调用此接口获取WebSocket深度数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> <tr> <td>side</td> <td>买卖类型（买：buy、卖：sell）</td> <td>string</td> </tr> </tbody> </table> <p>响应table数据：<br><code>{ [1]={ price=11300.54, ts=1597213360, amount=7.1161537565302}, [2]={ price=11300.86, ts=1597213358, amount=0.199715}, [3]={ price=11301.2, ts=1597213360, amount=0.043959}, [4]={ price=11301.54, ts=1597213358, amount=0.00319}, [5]={ price=11302.33, ts=1597213360, amount=0.0025}}</code></p> <table> <thead> <tr> <th>字段名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>price</td> <td>价格</td> </tr> <tr> <td>amount</td> <td>数量</td> </tr> <tr> <td>ts</td> <td>时间戳</td> </tr> </tbody> </table> <h3 id="h3--websocket-"><a name="订阅WebSocket成交明细" class="reference-link"></a><span class="header-link octicon octicon-link"></span>订阅WebSocket成交明细</h3><h4 id="h4-wswatchdealdetail-symbol-"><a name="wsWatchDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDealDetail(symbol)</h4><p>订阅成交明细数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>无响应数据</p> <h3 id="h3--websocket-"><a name="获取WebSocket成交明细" class="reference-link"></a><span class="header-link octicon octicon-link"></span>获取WebSocket成交明细</h3><h4 id="h4-wsgetdealdetail-symbol-"><a name="wsGetDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDealDetail(symbol)</h4><p>订阅WebSocket成交明细后，调用此接口可获得WebSocket成交明细数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>响应table数据：<br><code>{ [1]={ direction="sell", tradeId="102174098326", amount="0.000888", price="11523.04", ts="1597296214", id=482}, [2]={ direction="buy", tradeId="102174098327", amount="0.002841", price="11523.05", ts="1597296214", id=483}, [3]={ direction="buy", tradeId="102174098328", amount="0.002736", price="11523.05", ts="1597296214", id=484}, [4]={ direction="sell", tradeId="102174098329", amount="0.043282", price="11523.04", ts="1597296214", id=485}, [5]={ direction="sell", tradeId="102174098323", amount="0.0008", price="11523.04", ts="1597296213", id=479}}</code></p> <table> <thead> <tr> <th>字段名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>direction</td> <td>买卖方向</td> </tr> <tr> <td>tradeId</td> <td>成交ID</td> </tr> <tr> <td>amount</td> <td>数量</td> </tr> <tr> <td>price</td> <td>价格</td> </tr> <tr> <td>ts</td> <td>成交时间（时间戳）</td> </tr> <tr> <td>id</td> <td>编号</td> </tr> </tbody> </table> <h3 id="h3--websocket-"><a name="订阅WebSocket买一卖一逐笔行情" class="reference-link"></a><span class="header-link octicon octicon-link"></span>订阅WebSocket买一卖一逐笔行情</h3><h4 id="h4-wswatcheverymarket-symbol-"><a name="wsWatchEveryMarket(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchEveryMarket(symbol)</h4><p>订阅WebSokcet买一卖一逐笔行情数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>无响应数据</p> <h3 id="h3--websocket-"><a name="获取WebSocket买一卖一逐笔行情" class="reference-link"></a><span class="header-link octicon octicon-link"></span>获取WebSocket买一卖一逐笔行情</h3><h4 id="h4-wsgeteverymarket-symbol-"><a name="wsGetEveryMarket（symbol）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetEveryMarket（symbol）</h4><p>订阅WebSocket买一卖一逐笔行情之后，调用此接口获取WebSocket买一卖一逐笔行情<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> </tbody> </table> <p>响应table数据：<br><code>{ [1]={ sellsize=24.630719126109, buysize=0.015517, sell=11517.45, ts=1597299810, buy=11517.44}}</code></p> <table> <thead> <tr> <th>字段名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>sellsize</td> <td>卖量</td> </tr> <tr> <td>buysize</td> <td>买量</td> </tr> <tr> <td>sell</td> <td>卖价</td> </tr> <tr> <td>buy</td> <td>买价</td> </tr> <tr> <td>ts</td> <td>时间戳</td> </tr> </tbody> </table> <h3 id="h3--websocket-"><a name="订阅WebSocket余额" class="reference-link"></a><span class="header-link octicon octicon-link"></span>订阅WebSocket余额</h3><h4 id="h4-wswatchbalance-"><a name="wsWatchBalance（）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchBalance（）</h4><p>订阅WebSocket余额<br>参数：无<br>无响应数据 </p><h3 id="h3--websocket-"><a name="获取WebSocket余额" class="reference-link"></a><span class="header-link octicon octicon-link"></span>获取WebSocket余额</h3><h4 id="h4-wsgetbalance-currency-"><a name="wsGetBalance（currency）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetBalance（currency）</h4><p>订阅WebSocket余额之后，调用此接口获取最新余额数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>currency</td> <td>币种 例(btc)</td> <td>string</td> </tr> </tbody> </table> <p>响应table数据：<br><code>{ [1]={ currency="btc", available="6666666", id=15, exchange="Huobi", blocked="0"}}</code></p> <table> <thead> <tr> <th>字段名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>currency</td> <td>币种</td> </tr> <tr> <td>available</td> <td>可用余额</td> </tr> <tr> <td>blocked</td> <td>冻结余额</td> </tr> <tr> <td>exchange</td> <td>交易所名称</td> </tr> <tr> <td>id</td> <td>编号</td> </tr> </tbody> </table> <h3 id="h3--websocket-k-"><a name="订阅WebSocket K线" class="reference-link"></a><span class="header-link octicon octicon-link"></span>订阅WebSocket K线</h3><h4 id="h4-wswatchkline-symbol-period-"><a name="wsWatchKLine(symbol,period)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchKLine(symbol,period)</h4><p>订阅WebSocket K线数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> <tr> <td>period</td> <td>周期（1（1分）、5（5分）、15（15分）、30（30分）、1h（1小时）、2h（2小时）、1d（1天））</td> <td>string</td> </tr> </tbody> </table> <p>无响应数据</p> <h3 id="h3--websocket-k-"><a name="获取WebSocket K线" class="reference-link"></a><span class="header-link octicon octicon-link"></span>获取WebSocket K线</h3><h4 id="h4-wsgetkline-symbol-period-"><a name="wsGetKLine（symbol,period）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetKLine（symbol,period）</h4><p>订阅WebSocket K线之后，调取该接口获取WebSocket K线数据<br>参数： </p><table> <thead> <tr> <th>字段名称</th> <th>描述</th> <th>数据类型</th> </tr> </thead> <tbody> <tr> <td>symbol</td> <td>交易对 例(btcusdt)</td> <td>string</td> </tr> <tr> <td>period</td> <td>周期（1（1分）、5（5分）、15（15分）、30（30分）、1h（1小时）、2h（2小时）、1d（1天））</td> <td>string</td> </tr> </tbody> </table> <p>响应table数据：<br><code>{ [1]={ low=11471.65, last=11544.07, vol=154326832.68381, high=11655.41, open=11579.99, ts=1597248000}, [2]={ low=11130, last=11580, vol=526157022.68902, high=11617.8, open=11484.55, ts=1597161600}, [3]={ low=11374.11, last=11484.56, vol=501030973.92665, high=11948.29, open=11919.16, ts=1597075200}, [4]={ low=11489.8, last=11919.16, vol=489598559.69933, high=12052.03, open=11566.98, ts=1596988800}, [5]={ low=11538.57, last=11566.98, vol=228727380.99556, high=11795.01, open=11735.43, ts=1596902400}}</code></p> <table> <thead> <tr> <th>字段名称</th> <th>描述</th> </tr> </thead> <tbody> <tr> <td>low</td> <td>最低价</td> </tr> <tr> <td>last</td> <td>收盘价</td> </tr> <tr> <td>vol</td> <td>交易量</td> </tr> <tr> <td>high</td> <td>最高价</td> </tr> <tr> <td>open</td> <td>开盘价</td> </tr> <tr> <td>ts</td> <td>时间戳</td> </tr> </tbody> </table> </body> </html>
