<html lang="zh"> <head> <meta charset="utf-8"/> <link rel="shortcut icon" href="https://www.mdeditor.com/images/logos/favicon.ico" type="image/x-icon"/> </head> <body><h2 id="h2-bitmoneytree-websocket-api"><a name="BitMoneyTree——WebSocket API" class="reference-link"></a><span class="header-link octicon octicon-link"></span>BitMoneyTree——WebSocket API</h2><p><em>用其他語言閱讀：<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_en.md" title="English">English</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_hk.md" title="繁體中文">繁體中文</a>,<a href="https://github.com/BitMoneyTree/BitMoneyTree/blob/master/WebSocket%20API_cn.md" title="简体中文">简体中文</a></em></p> <h3 id="h3--websocket-"><a name="訂閱WebSocket深度" class="reference-link"></a><span class="header-link octicon octicon-link"></span>訂閱WebSocket深度</h3><h4 id="h4-wswatchdept-symbol-"><a name="wsWatchDept(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDept(symbol)</h4><p>訂閱WebSocket深度數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| ———— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>無響應數據 </p><h3 id="h3--websocket-"><a name="獲取WebSocket深度數據" class="reference-link"></a><span class="header-link octicon octicon-link"></span>獲取WebSocket深度數據</h3><h4 id="h4-wsgetdept-symbol-side-"><a name="wsGetDept(symbol,side)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDept(symbol,side)</h4><p>獲取WebSocket訂閱的深度數據並返回<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>| side | 買賣類型（買：buy、賣：sell） | string |<br>響應table數據：<br><code>{ [1]={ price=11300.54, ts=1597213360, amount=7.1161537565302}, [2]={ price=11300.86, ts=1597213358, amount=0.199715}, [3]={ price=11301.2, ts=1597213360, amount=0.043959}, [4]={ price=11301.54, ts=1597213358, amount=0.00319}, [5]={ price=11302.33, ts=1597213360, amount=0.0025}}</code><br>| 字段名稱 | 描述 |<br>| ———— | ——- |<br>| price | 價格 |<br>| amount | 數量 |<br>| ts |時間戳 | </p><h3 id="h3-u8A02u95B1u6210u4EA4u660Eu7D30"><a name="訂閱成交明細" class="reference-link"></a><span class="header-link octicon octicon-link"></span>訂閱成交明細</h3><h4 id="h4-wswatchdealdetail-symbol-"><a name="wsWatchDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchDealDetail(symbol)</h4><p>訂閱成交明細數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>無響應數據 </p><h3 id="h3--websocket-"><a name="獲取WebSocket成交明細" class="reference-link"></a><span class="header-link octicon octicon-link"></span>獲取WebSocket成交明細</h3><h4 id="h4-wsgetdealdetail-symbol-"><a name="wsGetDealDetail(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetDealDetail(symbol)</h4><p>訂閱WebSocket成交明細後，調用此接口可獲得WebSocket成交明細數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>響應table數據：<br><code>{ [1]={ direction="sell", tradeId="102174098326", amount="0.000888", price="11523.04", ts="1597296214", id=482}, [2]={ direction="buy", tradeId="102174098327", amount="0.002841", price="11523.05", ts="1597296214", id=483}, [3]={ direction="buy", tradeId="102174098328", amount="0.002736", price="11523.05", ts="1597296214", id=484}, [4]={ direction="sell", tradeId="102174098329", amount="0.043282", price="11523.04", ts="1597296214", id=485}, [5]={ direction="sell", tradeId="102174098323", amount="0.0008", price="11523.04", ts="1597296213", id=479}}</code><br>| 字段名稱 | 描述 |<br>| —————— | —————— |<br>| direction | 買賣方向 |<br>| tradeId | 成交ID |<br>| amount | 數量 |<br>| price | 價格 |<br>| ts | 成交時間（時間戳） |<br>| id | 編號 | </p><h3 id="h3--websocket-"><a name="訂閱WebSocket買一賣一逐筆行情" class="reference-link"></a><span class="header-link octicon octicon-link"></span>訂閱WebSocket買一賣一逐筆行情</h3><h4 id="h4-wswatcheverymarket-symbol-"><a name="wsWatchEveryMarket(symbol)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchEveryMarket(symbol)</h4><p>訂閱WebSokcet買一賣一逐筆行情數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>無響應數據 </p><h3 id="h3--websocket-"><a name="獲取WebSocket買一賣一逐筆行情" class="reference-link"></a><span class="header-link octicon octicon-link"></span>獲取WebSocket買一賣一逐筆行情</h3><h4 id="h4-wsgeteverymarket-symbol-"><a name="wsGetEveryMarket（symbol）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetEveryMarket（symbol）</h4><p>訂閱WebSocket買一賣一逐筆行情之後，調用此接口獲取WebSocket買一賣一逐筆行情<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>響應table數據：<br><code>{ [1]={ sellsize=24.630719126109, buysize=0.015517, sell=11517.45, ts=1597299810, buy=11517.44}}</code><br>| 字段名稱 | 描述 |<br>| —————— | —————— |<br>| sellsize | 賣量 |<br>| buysize | 買量 |<br>| sell | 賣價 |<br>| buy | 買價 |<br>| ts | 時間戳 | </p><h3 id="h3--websocket-"><a name="訂閱WebSocket餘額" class="reference-link"></a><span class="header-link octicon octicon-link"></span>訂閱WebSocket餘額</h3><h4 id="h4-wswatchbalance-"><a name="wsWatchBalance（）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchBalance（）</h4><p>訂閱WebSocket餘額<br>參數：無<br>無響應數據 </p><h3 id="h3--websocket-"><a name="獲取WebSocket餘額" class="reference-link"></a><span class="header-link octicon octicon-link"></span>獲取WebSocket餘額</h3><h4 id="h4-wsgetbalance-currency-"><a name="wsGetBalance（currency）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetBalance（currency）</h4><p>訂閱WebSocket餘額之後，調用此接口獲取最新餘額數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| currency | 幣種 例(btc) | string |<br>響應table數據：<br><code>{ [1]={ currency="btc", available="6666666", id=15, exchange="Huobi", blocked="0"}}</code><br>| 字段名稱 | 描述 |<br>| —————— | —————— |<br>| currency | 幣種 |<br>| available | 可用餘額 |<br>| blocked | 凍結餘額 |<br>| exchange | 交易所名稱 |<br>| id | 編號 | </p><h3 id="h3--websocket-k-"><a name="訂閱WebSocket K線" class="reference-link"></a><span class="header-link octicon octicon-link"></span>訂閱WebSocket K線</h3><h4 id="h4-wswatchkline-symbol-period-"><a name="wsWatchKLine(symbol,period)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsWatchKLine(symbol,period)</h4><p>訂閱WebSocket K線數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>| period | 週期（1（1分）、5（5分）、15（15分）、30（30分）、1h（1小時）、2h（2小時）、1d（1天）） | string |<br>無響應數據 </p><h3 id="h3--websocket-k-"><a name="獲取WebSocket K線" class="reference-link"></a><span class="header-link octicon octicon-link"></span>獲取WebSocket K線</h3><h4 id="h4-wsgetkline-symbol-period-"><a name="wsGetKLine（symbol,period）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>wsGetKLine（symbol,period）</h4><p>訂閱WebSocket K線之後，調取該接口獲取WebSocket K線數據<br>參數：<br>| 字段名稱 | 描述 | 數據類型 |<br>| —————— | —————— | —————— |<br>| symbol | 交易對 例(btcusdt) | string |<br>| period | 週期（1（1分）、5（5分）、15（15分）、30（30分）、1h（1小時）、2h（2小時）、1d（1天）） | string |<br>響應table數據：<br><code>{ [1]={ low=11471.65, last=11544.07, vol=154326832.68381, high=11655.41, open=11579.99, ts=1597248000}, [2]={ low=11130, last=11580, vol=526157022.68902, high=11617.8, open=11484.55, ts=1597161600}, [3]={ low=11374.11, last=11484.56, vol=501030973.92665, high=11948.29, open=11919.16, ts=1597075200}, [4]={ low=11489.8, last=11919.16, vol=489598559.69933, high=12052.03, open=11566.98, ts=1596988800}, [5]={ low=11538.57, last=11566.98, vol=228727380.99556, high=11795.01, open=11735.43, ts=1596902400}}</code><br>| 字段名稱 | 描述 |<br>| —————— | —————— |<br>| low | 最低價 |<br>| last | 收盤價 |<br>| vol | 交易量 |<br>| high | 最高價 |<br>| open | 開盤價 |<br>| ts | 時間戳 | </p></body> </html>
